<div class="container">
  <h2 class="shipping-address-title ml-3 mt-5">配送先登録/一覧</h2>

      <div class="mt-5">
      <%= form_with model: @delivery, url: deliveries_path, method: :post, local:true do |f| %>
      
      <% if @delivery.errors.any? %>
      <div class="error-explanation">
        <h3><%= @delivery.errors.count %>件のエラーが発生しております。</h3>
        <% @delivery.errors.full_messages.each do |message| %>
          <ul>
            <li><%= message %></li>
          </ul>
        <% end %>
      </div>
      <% end %>
      
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">郵便番号</label>
        <div class="col-sm-10 mt-1">
          <%= f.text_field :postal_code, autofocus: true %>
        </div>
      </div>

      <div class="form-group row">
        <label class="col-sm-2 col-form-label">住所</label>
        <div class="col-sm-10 mt-1">
          <%= f.text_field :address, autofocus: true, size:"40" %>
        </div>
      </div>

       <div class="form-group row">
        <label class="col-sm-2 col-form-label">宛先</label>
        <div class="col-sm-4 mt-1">
          <%= f.text_field :name, autofocus: true %>
        </div>
          <div class="col-xs-10 mt-2 col-sm-10 col-md-2">
          <%= f.submit '新規登録', class: "btn btn-success" %>
          </div>
      </div>
  <% end %>
  </div>

  <table class="table table-sm table-bordered">
  <thead>
    <tr style="background-color: #F0EDEC;">
      <th scope="col">郵便番号</th>
      <th scope="col">住所</th>
      <th scope="col">宛先</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <% current_customer.deliveries.each do |delivery| %>
    <tr>
      <td>〒<%= delivery.postal_code %></td>
      <td><%= delivery.address %></td>
      <td><%= delivery.name %></td>
      <td style="width: 140px;">
        <%= link_to '編集', edit_delivery_path(delivery.id), class: "btn btn-success" %>
        <%= link_to '削除', delivery_path(delivery.id), method: :delete, class: "btn btn-danger" %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>


</div>


